# 面向对象编程（上）

三条主线：

1. Java类及类的成员：属性、方法、构造器；代码块、内部类
2. 面向对象的三大特征：封装性、继承性、多态性、（抽象性）
3. 其他关键字：this、supper、static、final、abstract、interface、package、import等。

## 4.1面向过程（POP）与面向对象（OPP）

1. 面向过程：强调功能行为，以函数为最小单位考虑怎么做。
2. 面向对象：强调具备了功能的对象，以类/对象为最小单位，考虑谁来做。

面向对象分析方法分析问题的思路和步骤：

* 选择问题所针对的现实世界中的实体。
* 概念世界中的类
* 在计算机中定义类
* 将类实例化成对象

**面向对象的思想？**

## 4.2 Java语言基本元素：类和对象

类：对一类事物的描述、概念上的定义。

对象：实际存在的个体。

对象是类的实例化。

### 1.类

* 属性：对应类中的**成员变量**=filed=域、字段

* 行为：成员**方法**=函数=method

类和对象的使用：

1. 创建类，设计类的成员
2. 创建类的对象
3. 调用对象：对象.属性；对象.方法

```java
//*************
		Person p2=new Person();
		System.out.println(p2.name);
```

* 每个对象都拥有一套类的属性（非static），直接赋值的公用一套

### 2.属性的使用

属性（成员变量）VS局部变量

1. 相同点：
   * 定义形式： 数据类型 变量名 = 变量值
   * 先声明，后使用
   * 都有其对应的作用域

2. 不同点：

   * 在类中声明位置不同：**属性**直接定义在{}内；**局部变量**声明在方法内、方法形参、代码块内、构造器形参、构造器内部变量。
   * 权限修饰符不同

   **属性：**在声明属性时，指明其权限，使用权限修饰符。private、public、protected、缺省。

   **局部变量：**不可以使用权限修饰符。

   * **属性：**有默认初始化值。  **局部变量：**没有初始化值。形参调用时可赋值

   * 在内存中加载的位置：**属性：**加载到堆空间。**局部变量：**加载到栈空间

### 3.类中方法的声明和使用

方法：描述类应该具有的功能。

方法的声明：权限修饰符 返回值类型 方法名（形参列表）{  方法体   }

说明：

* **权限修饰符：**private、public、protected、缺省。------>详见封装性
* 有返回值必须返回指定数据类型，用return返回；没有返回值则用void，如果在void 要返回可以用return；表示方法结束。
* 方法名为标识符。
* 形参列表，0，1，多个形参。
* 方法体：方法的功能
* 方法的使用中，可以调用当前类的属性和方法。

特殊：递归方法。

* 方法中不能定义新的方法

### return关键字的使用范围

1. 使用范围：使用在方法中。
2. 作用：结束方法；针对有返回值类型的方法，结束同时返回数据。
3. 注意：return关键字后面不可以声明执行语句

## 4.3 对象的创建和使用：内存解析

* 栈（Stack）：虚拟机栈  存储局部变量
* 堆（Heap）:存放对象实例（new出来的结构）对象的属性（非Static）加载
* 方法区（Method Area）：用于存储已被虚拟机加载的**类信息、常量、静态变量、即时编译器编译后的代码**等数据。

方法调用完之后出栈

编译完源程序以后，生成一个或多个字节码文件。

使用JVM中的类加载器和解释器堆生成的字节码文件进行解释运行。意味着需要将字节码文件对应的类加载到内存中，设计到内存解析。

### 1.“万事万物皆对象”

1. 在Java语言范畴中，我们都将功能、结构等封装到类中，通过类的实例化来调用具体的功能结构。
2. 设计到Java与前端Html、后端数据库交互时，前后端的结构在Java层面交互时都体现为类、对象。

### 2.匿名对象的使用

* 没有显式的赋给对象名
* mall.show(new Phone())；
* 一般情况只能使用一次

```java
//匿名对象
new phone().sendEmail;
new phone().playGame;
//两次调用的不是同一个
```

## 3.自定义数组工具类

定义类之后可以使用

## 4.4 方法的重载

1. 定义：同一类中，允许存在一个以上的同名方法，只要他们的参数个数或者参数类型不同即可。（**两同一不同**）
2. 跟权限修饰符、返回值类型、形参变量名、方法体都没关系。
3. 调用方法时，如何确定某一个指定的方法：看方法名、再看参数列表。

## 4.5 可变个数的形参

允许直接定义能和多个实参相匹配的形参。从而，用更简单的方式，来传递个数可变的实参。

1. 格式：数据类型 ... 变量名（传入多个参数或没有参数都可以，必须都是指定类型）
2. 可变个数形参与相同类型数组不能构成重载。
3. 可变参数形参与别的数据类型一起时要放在后面。
4. 最多只能声明一个可变形参。

## 4.6 方法参数的址传递机制（重点）

* 关于**变量的赋值**：

基本数据类型，赋值的是变量保存的数据值；

引用数据类型，赋值的是变量保存的地址值。

* 方法的形参传递机制：值传递

1. 形参：方法定义时，声明的小括号内的参数

   实参：方法调用时，实际传递给形参的数据

2. 值传递机制：

   基本数据类型，赋值的是变量保存的数据值；

   引用数据类型，赋值的是变量保存的地址值。

## 递归方法的了解

## 4.7 面向对象的特征之一：封装和隐藏

程序的要求：高内聚、低耦合。

封装性的体现：

1. 将类中的成员变量私有化（private），提供公共（public）的方法进行调用。
2. 将方法隐藏在类种，不对外暴露。
3. 单例模式（构造器私有化）。
4. 如果不希望类在包外调用，可以设置为缺省。

封装性的体现配合权限修饰符的使用（设置在类成员定义前）：

![20210320](D:\Learn\Java\笔记\20210320.jpg)

注：4种权限可以用来修饰类及类的内部结构：属性、方法、构造器、内部类。

**修饰类**只能使用public 和缺省；

不同的包可以创建名字相同的类。

总结封装性：Java提供了4种权限修饰符来修饰类及类的内部结构，体现了类及类的内部结构在被调用时的可见性。

## 4.8 类的成员之三：构造器（或构造方法）

**类一定会有构造器**；造对象一定要有构造器

作用：

1. 创建对象.  写法：Person p = new Person（）
2. 初始化对象的属性。

说明：

1. 如果没有显式的构造器，系统默认提供一个空参的构造器。
2. 定义构造器的格式：权限修饰符  类名（形参列表）{}（权限与类一致）
3. 一个类中定义的多个构造器，彼此构成重载。
4. 一旦显示定义了类的构造器后，系统就不再提供默认的空参构造器。
5. 一个类中至少有一个构造器。

**总结：**属性赋值的先后顺序。

1. 默认初始化值
2. 显示初始化
3. 构造器中赋值
4. 通过对象.方法或对象.属性

以上操作的先后顺序：1--->2--->3--->4

### 拓展知识：JavaBean

满足以下特点的类：

1. 类是公共的
2. 有一个无参的公共的构造器
3. 有属性，且有对应的get、set方法

### 拓展知识：UML类图

左上角是包名

![202103202](D:\Learn\Java\笔记\202103202.png)

## 4.9 关键字：this的使用

1. this可以修饰、调用属性、方法、构造器
2. 修饰属性和方法时，this可以理解为当前对象。当形参与属性重名时候，用this区分。在构造器中可以使用。调用当前正在创建的对象的属性和方法
3. this可以调用构造器：this(构造器参数)；如果一个类中有n个构造器，最多有n-1个构造器使用this
4. 构造器的调用必须在首行。
5. 构造器内部最对只能声明一个this调用其他构造器

Eclipse自动生成set和get函数：Source---->Generate ····

## 4.10 关键字：package、import的使用

一、package关键字的使用

1. 为了更好的实现项目中类的管理，提供包的概念。
2. 使用package声明类或接口所属的包，声明在源文件的首行。
3. 包，属于标识符，遵循标识符的命名规则、规范“xxxyyyzzz”，见名知意。
4. 每“.”一次，代表一层文件目录。

补充：**同一个包下**，不能命名同名的接口、类。**不同包下**，可以命名同名的接口、类。

二、import关键字

1. 在源文件中显示的使用import结构导入指定包下的类、接口。
2. 声明在包的声明和类的声明之间。
3. 如果需要导入多个结构，在并列写出即可。
4. 可以使用“xxx.*”的方式导入xxx包下的所有结构。
5. 如果使用的类或接口是Java.lang下定义的，可以省略。
6. 如果使用类或接口是本包下定义的，则可省略。
7. 如果在源文件中，使用了不同包下的同名的类，则必须至少一个类用全类名方式。
8. 使用“xxx.*”的方式表明可以调用xxx包下的所有结构。但是如果使用的是xxx字子包下的结构，需要显示导入。
9. import static: 导入指定类或接口中的静态结构：属性或方法。

## MVC设计模式

程序分为三个层次：视图模型层（V）、控制器层（C）、数据模型层（M）。

